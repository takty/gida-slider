"use strict";function gida_slider_show_page(t,s){const e=document.getElementById(t+"-rivet-"+s);e&&e.click()}function gida_slider_show_initialize(t,s){const e="gida-slider-show",i=e+"-frame",n=e+"-slides",o="visible",a="display",l="view",c=t?document.getElementById(t):document.getElementsByClassName(e)[0];if(!c)return;void 0===s&&(s={});const r=s.effect_type??"slide",d=s.duration_time??8,u=s.transition_time??1,h=s.is_random_timing??!1;let f=s.is_background_visible??!0,m=s.is_side_slide_visible??!1;if("scroll"!==r&&(m=!1),m){f=!1;c.querySelector("."+n).style.overflow="visible"}const _=Array.prototype.slice.call(c.querySelectorAll(`.${n} > li`)),p=_.length,y=[];let g=null;const v=[];function w(t,s=(()=>{})){let e,i=null;return{set:()=>new Promise((n=>{e=n,i=setTimeout((async()=>{i=null,await s(),n()}),t)})),clear:()=>{i&&(clearTimeout(i),i=null,e())}}}document.addEventListener("DOMContentLoaded",(()=>{const t="ie11"!==(-1!==window.navigator.userAgent.toLowerCase().indexOf("trident/7"))&&{passive:!0};window.addEventListener("resize",(()=>{for(let t=0;t<v.length;t+=1)v[t]()}),t)}));const L=[];function b(t,s,e){const n=s.getElementsByClassName("gida-slider-show-prev")[0],o=s.getElementsByClassName("gida-slider-show-next")[0];if(1===t)return n&&(n.style.display="none"),void(o&&(o.style.display="none"));const a=async()=>{await e(null,-1)},l=async()=>{await e(null,1)};n&&n.addEventListener("click",(async()=>{n.disabled=!0,await a(),n.disabled=!1})),o&&o.addEventListener("click",(async()=>{o.disabled=!0,await l(),o.disabled=!1})),null===window.ontouchstart&&function(t,s,e){const n=50;let o,a,l;const c=t.getElementsByClassName(i)[0];c.addEventListener("touchstart",(t=>{o=t.touches[0].pageX,a=l=null})),c.addEventListener("touchmove",(t=>{a=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY})),c.addEventListener("touchend",(t=>{null!==a&&null!==l&&(a<o-n?(e(),!0===t.cancelable&&t.preventDefault()):o+n<a&&(s(),!0===t.cancelable&&t.preventDefault()))}))}(s,a,l)}const E=[];const I=[];let P=[],C=[];const x=[];function A(t,s){const e=t.querySelector(":scope > div");if(e){e.style.transitionDuration=s+"s",""===e.className&&(e.classList.add("gida-slider-show-caption"),e.classList.add("subtitle")),e.classList.contains("line")||e.classList.contains("circle")||e.classList.add("subtitle"),e.classList.contains("line")&&(e.dataset.caption="line"),e.classList.contains("circle")&&(e.dataset.caption="circle"),e.classList.contains("subtitle")&&(e.dataset.caption="subtitle");const t=e.querySelectorAll(":scope > div");for(const s of t)N(s);N(e);const i=e.querySelectorAll(":scope > span");if(0<i.length){const t=document.createElement("div");for(const s of i)t.appendChild(e.removeChild(s));e.appendChild(t)}}x.push(e)}function N(t){for(let s=0;s<t.childNodes.length;s+=1){const e=t.childNodes[s];if(3===e.nodeType){if(""===e.nodeValue.trim())continue;const t=document.createElement("span");t.appendChild(document.createTextNode(e.nodeValue)),e.parentNode.replaceChild(t,e)}}}function z(){if(window.innerWidth<600)for(const t of x)t.classList.remove(t.dataset.caption),t.classList.add("subtitle");else for(const t of x)t.classList.remove("subtitle"),t.classList.add(t.dataset.caption)}class M{constructor(t,s,e){this._size=t,this._sls=s,this._time=e;for(let t=0;t<this._size;t+=1)this._sls[t].style.transform="translateX("+(t?100:0)+"%)";setTimeout((()=>{for(let t=0;t<this._size;t+=1)this._sls[t].style.opacity=1,this._sls[t].style.transition="transform "+this._time+"s"}),10)}async transition(t,s){for(let s=0;s<this._size;s+=1)this._sls[s].style.transform=s<=t?"translateX(0%)":"translateX(100%)";await w(1e3*this._time).set()}}class T{constructor(t,s,e){this._size=t,this._sls=s,this._time=e,this._curIdx=0,this._curIdxPsd=0,this._curPos=this._calcPosition(0,1);for(let t=0;t<this._sls.length;t+=1)this._sls[t].style.opacity=1,this._sls[t].style.transform=`translateX(${100*this._curPos[t]}%)`}async transition(t,s){this._curPos=this._calcPosition(this._curIdxPsd,s);for(let t=0;t<this._sls.length;t+=1)this._sls[t].style.transition="",this._sls[t].style.transform="translateX("+100*this._curPos[t]+"%)";await w(10).set();let e=0;1===s&&(e=t-this._curIdx),-1===s&&(e=this._curIdx-t),e<0&&(e+=this._size);for(let t=0;t<e;t+=1)this._curPos=this.shift(this._curPos,s,this._time/e),await w(Math.floor(1e3*this._time/e)).set();this._curIdx=t}shift(t,s,e){this._curIdxPsd+=s,this._sls.length-1<this._curIdxPsd&&(this._curIdxPsd=0),this._curIdxPsd<0&&(this._curIdxPsd=this._sls.length-1);const i=this._calcPosition(this._curIdxPsd,s);for(let s=0;s<this._sls.length;s+=1){const n=1===Math.abs(t[s]-i[s])?`transform ${e}s`:"";this._sls[s].style.transition=n,this._sls[s].style.transform=`translateX(${100*i[s]}%)`}return i}_calcPosition(t,s){const e=this._sls.length,i=new Array(e);i[t]=0;const n=-1!==s?Math.ceil((e-1)/2):Math.floor((e-1)/2),o=e-1-n;for(let s=1;s<=n;s+=1){let n=t+s;e-1<n&&(n-=e),i[n]=s}for(let s=1;s<=o;s+=1){let n=t-s;n<0&&(n+=e),i[n]=-s}return i}}class B{constructor(t,s,e){this._size=t,this._sls=s,this._time=e;for(let t=0;t<this._size;t+=1)this._sls[t].style.opacity=0===t?1:0;setTimeout((()=>{for(let t=0;t<this._size;t+=1)this._sls[t].style.transition="opacity "+this._time+"s"}),10)}async transition(t,s){for(let s=0;s<this._size;s+=1)this._sls[s].style.opacity=s===t?1:0,this._sls[s].style.pointerEvents=s===t?"auto":"none";await w(1e3*this._time).set()}}const S="scroll";class k{constructor(t){const s=document.createElement("div");s.classList.add("gida-slider-show-picture"),t.classList.contains(S)&&s.classList.add(S);const e=t.dataset.img,i=t.dataset.imgSub;e&&i?(s.classList.add("dual"),this._insertImage(s,i,t.dataset.imgSubPhone??null),this._insertImage(s,e,t.dataset.imgPhone??null)):this._insertImage(s,e,t.dataset.imgPhone??null),this.p=s}_insertImage(t,s,e){const i=document.createElement("img");i.src=s,e&&(i.srcset=`${s}, ${e} 600w`),t.insertBefore(i,t.firstChild)}getElement(){return this.p}transition(t,s){}display(t){t?this.p.classList.add(a):this.p.classList.remove(a)}getDuration(t,s,e){return e?dt*(1+.1*(1-2*Math.random())):t}}class q{constructor(t){const s=document.createElement("div");s.classList.add("gida-slider-show-video");const e=document.createElement("video");e.muted=!0,e.playsinline=!0,e.setAttribute("muted",!0),e.setAttribute("playsinline",!0),e.addEventListener("loadedmetadata",(()=>{const t=e.clientWidth/e.clientHeight;e.dataset.ar=(0|1e3*t)/1e3})),s.appendChild(e);const i=document.createElement("source");i.setAttribute("src",t.dataset.video),e.appendChild(i),this.p=s,this.v=e}getElement(){return this.p}transition(t,s){t&&(this.v.setAttribute("autoplay",!0),this.v.play(),1===s&&this.v.setAttribute("loop",!0))}display(t){t||(this.v.pause(),this.v.currentTime=0)}getDuration(t,s,e){return this.v.duration-s}}!function(){"scroll"===r&&1<p&&p<5&&function(){for(let t=0;t<p;t+=1){const s=_[t],e=s.cloneNode(!0);_.push(e),s.parentNode.appendChild(e)}}();const t=c.classList.contains(S);for(const s of _){t&&s.classList.add(S),s.style.opacity=0,A(s,u);const e=s.dataset.video?new q(s):new k(s),i=s.querySelector("a")??s;i.insertBefore(e.getElement(),i.firstChild),y.push(e)}switch(function(t,s=!1){s&&t(),v.push(function(t){let s;function e(){s=!1,t()}return()=>{s||(s=!0,requestAnimationFrame(e))}}(t))}(z,!0),r){case"slide":g=new M(p,_,u);break;case"scroll":g=new T(p,_,u);break;case"fade":g=new B(p,_,u);break;default:g=new M(p,_,u)}}(),f&&function(t,s,e,i){const n=document.createElement("div");n.classList.add("gida-slider-show-backgrounds"),s.insertBefore(n,s.firstChild);for(let s=0;s<t;s+=1){const t=e[s],o=document.createElement("div"),a=t.dataset.img??t.dataset.imgLeft;a&&(o.style.backgroundImage=`url('${a}')`,o.style.transitionDuration=2*i+"s"),n.appendChild(o),L.push(o)}}(p,c,_,u),document.addEventListener("DOMContentLoaded",(()=>{b(p,c,H),function(s){if(1!==s)for(let e=0;e<s;e+=1){const s=t+"-"+e;let i=document.querySelector('*[data-id="'+s+'"]');i||(i=document.getElementById(s)),I.push(i)}}(p),function(t,s){P=s.querySelectorAll(".gida-slider-show-slide-count"),C=s.querySelectorAll(".gida-slider-show-slide-index");for(const s of P)s.innerHTML=t;for(const t of C)t.innerHTML=1}(p,c),function(s,e,i){if(1===s)return;const n=e.getElementsByClassName("gida-slider-show-rivets")[0];if(!n)return;const o=2===s?1:0;for(let e=0;e<s;e+=1){const s=e,a=document.createElement("span");a.id=t+"-rivet-"+s,a.className="gida-slider-show-rivet",a.addEventListener("click",(()=>{i(s,o)})),n.appendChild(a),E.push(a)}}(p,c,H);new IntersectionObserver((t=>{for(const s of t)c.classList[s.isIntersecting?"add":"remove"](l)}),{rootMargin:"100px 0px"}).observe(c),H(0,0)}));let D=0,X=null,$=0;async function H(t,s){[t,s]=function(t,s){null===t?(p-1<(t=D+s)&&(t=0),t<0&&(t=p-1)):0===s&&(D<t&&(s=1,D-(t-p)<t-D&&(s=-1)),t<D&&(s=-1,t+p-D<D-t&&(s=1)));return[t,s]}(t,s);const e=window.performance.now();if(!(0!==s&&e-$<1e3*u)){$=e;for(let s=0;s<_.length;s+=1)y[s].transition(s%p===t,p);!function(t,s){for(let e=0;e<s;e+=1)L[e]&&L[e].classList[e===t?"add":"remove"](o)}(t,p),function(t){for(const t of I)t&&t.classList.remove(o);I[t]&&I[t].classList.add(o)}(t),function(t){for(const s of C)s.innerHTML=t+1}(t),function(t){for(const t of E)t.classList.remove(o);E[t]&&E[t].classList.add(o)}(t),await g.transition(t,s),D=t,async function(t){for(let s=0;s<_.length;s+=1)y[s].display(s%p===t);if(function(t,s){for(let e=0;e<x.length;e+=1)x[e]&&(e%s===t?x[e].classList.add(a):x[e].classList.remove(a))}(t,p),1===p)return;const s=y[t].getDuration(d,u,h);X&&X.clear();X=w(Math.ceil(1e3*s),O),await X.set()}(t)}}async function O(){c.classList.contains(l)&&!c.classList.contains("pause")?H(null,1):w(1e3*d,O).set()}}
//# sourceMappingURL=show.min.js.map
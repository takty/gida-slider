/**
 * Gida Slider - Hero
 *
 * @author Takuto Yanagida
 * @version 2022-03-10
 */


.gida-slider-hero {
	--color-frame    : #fff6;

	--slide-size      : cover;
	--slide-zoom      : 1.05;
	--slide-color-dual: #fff6;
}


// -----------------------------------------------------------------------------


.gida-slider-hero {
	position  : relative;
	box-sizing: border-box;

	:is(*, *::before, *::after) {
		box-sizing: inherit;
		margin    : 0;
		padding   : 0;
	}

	overflow: hidden;


	// -------------------------------------------------------------------------


	:is(.gida-slider-hero-frame, .gida-slider-hero-slides, .gida-slider-hero-picture) {
		position: absolute;
		inset   : 0;
	}

	.gida-slider-show-frame {
		background-color: var(--color-frame);
	}

	.gida-slider-hero-slides {
		list-style: none;
		overflow  : hidden;

		width : 100%;
		height: 100%;

		display : grid;

		> li {
			grid-area: 1/1/2/2;

			overflow           : hidden;
			backface-visibility: hidden;
		}
	}


	// -------------------------------------------------------------------------


	.gida-slider-hero-picture:not(.scroll) {
		&.display {
			transition: transform 10s;
			transform: scale(var(--slide-zoom));
		}
	}

	.gida-slider-hero-picture > img {
		object-fit: var(--slide-size);
		@supports (-webkit-appearance: none) and (not (-moz-appearance: none)) and (not (font: -apple-system-body)) {
			image-rendering: -webkit-optimize-contrast;
		}
	}

	.gida-slider-hero-picture:not(.dual) > img {
		width : 100%;
		height: 100%;
	}

	.gida-slider-hero-picture.scroll {
		> img {
			object-fit: cover;
			transition: object-position 10s;

			&:first-child {
				object-position: center top;
			}
		}
		&.display > img:first-child {
			object-position: center bottom;
		}
	}

	@supports (font: -apple-system-body) {  // for Safari
		.gida-slider-hero-picture:not(.dual) > img {
			height: auto;

			position : absolute;
			top      : 50%;
			transform: translateY(-50%);
		}

		.gida-slider-hero-picture.scroll {
			> img {
				transition: transform 10s, top 10s;

				&:first-child {
					object-position: center center;
					top: 100%;
					transform: translateY(-100%);
				}
			}
			&.display > img:first-child {
				object-position: center center;
				top: 0%;
				transform: translateY(0%);
			}
		}
	}  // for Safari

	.gida-slider-hero-picture.dual {
		display         : flex;
		background-color: var(--slide-color-dual);

		> img {
			width : 50%;
			height: 100%;

			&:last-child {
				opacity   : 0;
				transition: opacity 1s;
			}
		}
		&.display > img:last-child {
			opacity: 1;
		}
		&.scroll {
			> img:last-child {
				object-position: center bottom;
			}
			&.display > img:last-child {
				transition     : opacity 1s, object-position 9s 1s;
				object-position: center top;
			}
		}
	}

	@supports (font: -apple-system-body) {  // for Safari
		.gida-slider-hero-picture.dual {
			> img {
				height: auto;

				position : absolute;
				top      : 50%;
				transform: translateY(-50%);
			}
			> img:last-child {
				left: 50%;
			}
			&.scroll {
				> img:last-child {
					object-position: center center;
					top: 0%;
					transform: translateY(0%);
				}
				&.display > img:last-child {
					transition     : opacity 0.8s, transform 9s 0.8s, top 9s 0.8s;
					object-position: center center;
					top: 100%;
					transform: translateY(-100%);
				}
			}
		}
	}  // for Safari


	// -------------------------------------------------------------------------


	.gida-slider-hero-video {
		position: relative;
		height  : 100%;

		video {
			position  : absolute;
			width     : auto;
			height    : auto;
			max-width : initial;
			max-height: initial;
		}
		.width {
			width    : 100%;
			top      : 50%;
			transform: translateY(-50%);
		}
		.height {
			height   : 100%;
			left     : 50%;
			transform: translateX(-50%);
		}
	}

}
